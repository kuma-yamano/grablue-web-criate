define(["view/cjs","model/cjs-loader","model/manifest-loader","view/common/workaround"],function(a,b,c,d){var e=12,f="se/arcarum_mission_count.mp3",g="se/arcarum_mission_comp.mp3",h=null,i=null,j=null,k=null,l=a.extend({initialize:function(a){a=a||{},this.cjsName=a.cjsName,this.canvasName=a.canvasName,a.clear&&(window.arcarum_result_clear_num=a.clear),j=a.seCount||f,k=a.seComplete||g,this.loadFiles()},loadFiles:function(){var a=this,c=[this.cjsName];b.once("complete",function(){a.loadManifest(c)}),b.loadFiles(c)},loadManifest:function(a){var d=this,e=_.flatten(_.map(a,function(a){return b.manifest(a)}));c.once("complete",function(){d.cjsRender()}),c.loadManifest(e,!0)},cjsRender:function(){var a=document.getElementById(this.canvasName);h=new createjs.Stage(a,!0),Game.ua.isAndroid()&&"4.2.2"===Game.ua.os.version&&d.webkitGlobalRepaint(),i=new lib[this.cjsName],i.seCount=j,i.seComplete=k,h.addChild(i),createjs.Ticker.setFPS(e),createjs.Ticker.addEventListener("tick",h)},removeChildren:function(){null!==h&&(i.destroy(),h.removeAllEventListeners("tick"),h.update(),h=null)},destroy:function(){delete window.arcarum_result_clear_num},skipCjs:function(){null!==i&&"function"==typeof i.skipEffect&&i.skipEffect()}});return l});
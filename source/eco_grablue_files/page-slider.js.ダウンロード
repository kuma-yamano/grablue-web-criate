define(["underscore","flexslider"],function(a,b){var c={};return function(){var b=null;this.render=function(c,d,e,f,g,h,i){var j=+c.page,k=+c.last;if(e||(e=[]),e.paging||(e.paging=$("#prt-pagination")),e.text||(e.text=$(".prt-pager-text")),g||(g=$("#tpl-pagination")),i||(i=!1),!e.paging.hasClass("unset"))if(b){var l=e.paging.hasClass("prt-pagination-sm")||b.hasClass("prt-pagination-sm");b==e.paging||l||b.empty()}else b=e.paging;if(e.text.html(a.template($("#tpl-pagination-text").html(),c)),1>=k)return void e.paging.empty();var m=0;if(h){j=parseInt(j);var n=Math.floor(j/100),o=100*(n+1)>k?k:100*(n+1);m=100*n?100*n-2:0;var p=0,q=o-m;k>5&&(2>=j-m?100>j?p=(5-o%5)%5:5>q?m-=5-q:p=(5-(o+2)%5)%5:o-2>j?p=(5-((o-j+1)%5-3))%5:5>q&&(m-=5-q))}else{j=parseInt(j);var n=Math.floor(j/100);o=100*(n+1)>k?k:100*(n+1),m=100*n?100*n-2:0;var p=0;j>m+3&&k>5&&(p=0==n?j>o-2?(5-o%5)%5:(5-(j%5-3))%5:j>o-2?(5-(o+2)%5)%5:(5-((j-(100*n-2))%5-3))%5)}if(c.reverse=h||null,c.lead=m,c.slide=p,c.end=o,e.paging.html(a.template(g.html(),c)),d){var r=e.paging?e.paging.find(".prt-pagination-renewal"):$("#prt-pagination"),s=f||$("#tpl-pagination-renewal");if(r.hasClass("show")&&r.removeClass("show"),r.removeData("flexslider"),r.html(a.template(s.html(),c)),i===!0&&r.addClass("wide"),r.parent().find(".lis-pagination").css("display","none"),d&&k>1){r.addClass("show");var t=r.find(".lis-direction-max-prev"),u=r.find(".lis-direction-max-next");r.flexslider({selector:".onm-pagination-renewal > .lis-pagination-renewal",animation:"slide",animationLoop:!1,slideshow:!1,prevText:"",nextText:"",controlNav:!1,startAt:h?Math.ceil((o+1+p-j)/5)-1:Math.ceil((j+p-m)/5)-1,start:function(){r.find(".onm-pagination-renewal").addClass("show"),r.find(".flex-direction-nav a").on("cgtouchstart",function(a){r.find(a.currentTarget).hasClass("flex-disabled")||r.find(".flex-direction-nav").css("opacity","0.5")})},before:function(){r.find(".prt-slider-mask").addClass("show")},after:function(a){var b=$(".flex-viewport").find(".flex-active-slide"),d=+b.index(),e=+b.find('.prt-page-number[disable="true"]').attr("page");if(r.find(".prt-slider-mask").removeClass("show"),r.find(".flex-direction-nav").css("opacity","1.0"),h)var f=e===c.end&&0===d,g=e===c.first&&d===a.last;else var f=e===c.first&&0===d,g=e===c.end&&d===a.last;t.attr("disable",f),u.attr("disable",g)}})}}}}.call(c),c});
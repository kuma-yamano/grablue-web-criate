define(["view/quest/abstract-view","view/popup"],function(a,b){var c=a.extend({el:".btn-skip",events:{tap:"showSynopsis"},initialize:function(a){this.init(),this.scene_id=a.scene_id,this.forwardFlg=a.forwardFlg,this.nextUrl=a.nextUrl,this.areaId=a.areaId,this.completedQuestId=a.completed_quest_id,this.locationId=a.location_id,this.nextNumbersId=a.nextNumbersId,this.bookmarkPage=a.bookmarkPage,this.redirectUrl="#mypage"},setSynopsis:function(a,b,c){var d=this;_.isEmpty(a)===!0&&"scene_evt180401_cp1_q1_s10"===this.scene_id?require(["util/language-message"],function(a){d.synopsisTitle=a.getMessage("revival002_exception_title")||""}):this.synopsisTitle=a,_.isObject(c)&&c.popupStyleType&&(this.popupStyleType=c.popupStyleType),this.synopsisBody=b},setOpenScene:function(a){this.open_scene_url=a},showSynopsis:function(){var a={title:this.synopsisTitle,synopsis:this.synopsisBody},c="";this.popupStyleType&&(c+=" pop-season-event"+this.popupStyleType),this.popView=new b({className:"pop-synopsis"+c,title:a.title,body:_.template($("#tpl-synopsis").html(),a),flagBtnCancel:1,flagBtnOk:1}),a.synopsis?(this.popView.render(),this.popView.popShow()):this.end(),this.trigger("tap")},end:function(){if(cjs.stage.sceneEffect&&cjs.stage.sceneEffect.removeAllEventListeners("tick"),cjs.stage.scenePrivate&&cjs.stage.scenePrivate.removeAllEventListeners("tick"),this.forwardFlg===window.SCENE_RETURN_ID_DEBUG){var a=location.href.split("?")[1];if("undefined"!=typeof a){var b=a.split("&");location.href=Game.baseUri+"debug/scenecheck/set_npc_id/"+b[0]+"?"+b[1]+"&"+b[2]}else location.href=Game.baseUri+"debug/scenecheck/set_scene_view?scene_id="+this.scene_id}else this.open_scene_url?(this.content_close(),Backbone.history.navigate(this.open_scene_url,!0)):(this.popView&&this.popView.popRemove(),this.fowardTo(this.forwardFlg,this.areaId,this.completedQuestId,this.locationId,null,this.nextNumbersId,this.bookmarkPage,this.redirectUrl,this.scene_id))},setRedirectUrl:function(a){this.redirectUrl=a}});return c});
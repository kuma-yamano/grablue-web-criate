define(["model/data"],function(a){var b=a.extend({urlRoot:Game.baseUri+"quest/user_item",initialize:function(a){this.param=a},getSecurityToke:function(){var a=new(Backbone.Model.extend({urlRoot:Game.baseUri+"security/csrf"}));this.stopListening(a,"sync"),this.listenToOnce(a,"sync",this.itemUserRequest),a.fetch()},itemUserRequest:function(a){a.set(this.param),this.stopListening(this,"sync"),this.listenToOnce(this,"sync",this.itemUserRequestComplete),this.save(a)},itemUserRequestComplete:function(a){return void 0==a.get("success")?void Game.view.trigger("xhrEnd"):($(".cnt-quest").attr({"data-duplicate-key":a.get("duplicate_key")}),void(void 0!=this.callback&&this.callback()))},setCompleteCallBack:function(a){this.callback=a}});return b});
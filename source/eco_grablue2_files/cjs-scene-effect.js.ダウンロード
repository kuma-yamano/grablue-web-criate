define(["view/cjs","model/cjs-loader","model/manifest-loader"],function(a,b,c){var d=a.extend({targetCanvas:null,initialize:function(a){cjs.canvas.sceneEffect=null,cjs.stage.sceneEffect=null,cjs.exportRoot.sceneEffect=null,this.targetCanvas="cjs-scene-effect",this.identifier="fadeCjs",this.renderDelay=100,this.motion=a.motion,this.label=a.label,this.render()},render:function(){return this.cjsRender(),this},cjsRender:function(){Game.loading.xhrStart();var a=[];a.push("fadeinout");var c=this;b.once("complete",function(){cjs.canvas.sceneEffect=document.getElementById(c.targetCanvas),cjs.exportRoot.sceneEffect=new lib.fadeinout;var a=new createjs.Container;a.addChild(cjs.exportRoot.sceneEffect),cjs.stage.sceneEffect=new createjs.Stage(cjs.canvas.sceneEffect),cjs.stage.sceneEffect.addChild(a),cjs.stage.sceneEffect.update(),createjs.Ticker.setFPS(12),createjs.Ticker.addEventListener("tick",cjs.stage.sceneEffect),Game.loading.xhrEnd(),c.motionCall(c.motion)}),b.loadFiles(a,!0)},removeChildren:function(){cjs.stage.sceneEffect.removeAllChildren(),cjs.stage.sceneEffect.clear(),cjs.stage.sceneEffect=null},motionCall:function(a){"fadeout"===a&&cjs.exportRoot.sceneEffect.fadeinout.stop(),setTimeout(function(){cjs.exportRoot.sceneEffect.fadeinout.gotoAndPlay(a)},5)}});return d});
/* build date: 2020-02-03 18:50 */

!function(e,t){"function"==typeof define&&define.amd?define(t):e.H5F=t()}(this,function(){var c,r,o,u,s,e,d,a,l,g,p,f,m,h,v,b,y,E,w,_,k,I,A,S,n,i=document.createElement("input"),C=/^[a-zA-Z0-9.!#$%&'*+-\/=?\^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,B=/[a-z][\-\.+a-z]*:\/\//i,L=/^(input|select|textarea)$/i;return e=function(e,t){var n=!e.nodeType||!1,i={validClass:"valid",invalidClass:"error",requiredClass:"required",placeholderClass:"placeholder"};if("object"==typeof t)for(var r in i)void 0===t[r]&&(t[r]=i[r]);if(s=t||i,n)for(var o=0,a=e.length;o<a;o++)d(e[o]);else d(e)},d=function(t){var e=t.elements,n=e.length,i=!!t.attributes.novalidate;if(E(t,"invalid",l,!0),E(t,"blur",l,!0),E(t,"input",l,!0),E(t,"keyup",l,!0),E(t,"focus",l,!0),E(t,"change",l,!0),E(t,"click",g,!0),E(t,"submit",function(e){c=!0,r||i||t.checkValidity()||_(e)},!1),!m())for(t.checkValidity=function(){return p(t)};n--;)!!e[n].attributes.required,"fieldset"!==e[n].nodeName.toLowerCase()&&a(e[n])},a=function(e){var t=e,n=y(t),i={type:t.getAttribute("type"),pattern:t.getAttribute("pattern"),placeholder:t.getAttribute("placeholder")},r=/^(email|url)$/i.test(i.type)?i.type:!!i.pattern&&i.pattern,o=h(t,r),a=b(t,"step"),s=b(t,"min"),c=b(t,"max"),d=!(""===t.validationMessage||void 0===t.validationMessage);t.checkValidity=function(){return p.call(this,t)},t.setCustomValidity=function(e){f.call(t,e)},t.validity={valueMissing:n,patternMismatch:o,rangeUnderflow:s,rangeOverflow:c,stepMismatch:a,customError:d,valid:!(n||o||a||s||c||d)},i.placeholder&&!/^(input|keyup)$/i.test(u)&&v(t)},l=function(e){var t=k(e)||e,n=/^(submit|image|button|reset)$/i,i=!0;!L.test(t.nodeName)||n.test(t.type)||n.test(t.nodeName)||(u=e.type,m()||a(t),t.validity.valid&&(""!==t.value||/^(checkbox|radio)$/i.test(t.type))||t.value!==t.getAttribute("placeholder")&&t.validity.valid?(A(t,[s.invalidClass,s.requiredClass]),I(t,s.validClass)):/^(input|keyup|focusin|focus|change)$/i.test(u)?t.validity.valueMissing&&A(t,[s.requiredClass,s.invalidClass,s.validClass]):t.validity.valueMissing?(A(t,[s.invalidClass,s.validClass]),I(t,s.requiredClass)):t.validity.valid||(A(t,[s.validClass,s.requiredClass]),I(t,s.invalidClass)),"input"===u&&i&&(w(t.form,"keyup",l,!0),i=!1))},p=function(e){var t,n,i,r,o=!1;if("form"===e.nodeName.toLowerCase()){for(var a=0,s=(t=e.elements).length;a<s;a++)i=!!(n=t[a]).attributes.required,r=!!n.attributes.pattern,"fieldset"!==n.nodeName.toLowerCase()&&(i||r&&i)&&(l(n),n.validity.valid||o||(c&&n.focus(),o=!0));return!o}return l(e),e.validity.valid},f=function(e){this.validationMessage=e},g=function(e){var t=k(e);t.attributes.formnovalidate&&"submit"===t.type&&(r=!0)},m=function(){return S(i,"validity")&&S(i,"checkValidity")},h=function(e,t){if("email"===t)return!C.test(e.value);if("url"===t)return!B.test(e.value);if(t){var n=e.getAttribute("placeholder"),i=e.value;return o=RegExp("^(?:"+t+")$"),i!==n&&(""!==i&&!o.test(e.value))}return!1},v=function(e){var t={placeholder:e.getAttribute("placeholder")},n=/^(focus|focusin|submit)$/i;!!("placeholder"in i)||!/^(input|textarea)$/i.test(e.nodeName)||/^password$/i.test(e.type)||(""!==e.value||n.test(u)?e.value===t.placeholder&&n.test(u)&&(e.value="",A(e,s.placeholderClass)):(e.value=t.placeholder,E(e.form,"submit",function(){u="submit",v(e)},!0),I(e,s.placeholderClass)))},b=function(e,t){var n=parseInt(e.getAttribute("min"),10)||0,i=parseInt(e.getAttribute("max"),10)||!1,r=parseInt(e.getAttribute("step"),10)||1,o=parseInt(e.value,10),a=(o-n)%r;return y(e)||isNaN(o)?"number"===e.getAttribute("type"):"step"===t?!!e.getAttribute("step")&&0!==a:"min"===t?!!e.getAttribute("min")&&o<n:"max"===t?!!e.getAttribute("max")&&i<o:void 0},function(e){return!!!!e.attributes.required&&y(e)},y=function(e){var t=e.getAttribute("placeholder");return!(!!!e.attributes.required||""!==e.value&&e.value!==t&&(!/^(checkbox|radio)$/i.test(e.type)||n(e)))},E=function(e,t,n,i){S(window,"addEventListener")?e.addEventListener(t,n,i):S(window,"attachEvent")&&void 0!==window.event&&("blur"===t?t="focusout":"focus"===t&&(t="focusin"),e.attachEvent("on"+t,n))},w=function(e,t,n,i){S(window,"removeEventListener")?e.removeEventListener(t,n,i):S(window,"detachEvent")&&void 0!==window.event&&e.detachEvent("on"+t,n)},_=function(e){(e=e||window.event).stopPropagation&&e.preventDefault?(e.stopPropagation(),e.preventDefault()):(e.cancelBubble=!0,e.returnValue=!1)},k=function(e){return(e=e||window.event).target||e.srcElement},I=function(e,t){e.className?RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)||(e.className+=" "+t):e.className=t},A=function(e,t){var n,i,r="object"==typeof t?t.length:1,o=r;if(e.className)if(e.className===t)e.className="";else for(;r--;)n=RegExp("(^|\\s)"+(1<o?t[r]:t)+"(\\s|$)"),(i=e.className.match(n))&&3===i.length&&(e.className=e.className.replace(n,i[1]&&i[2]?" ":""))},S=function(e,t){var n=typeof e[t];return!!(RegExp("^function|object$","i").test(n)&&e[t]||"unknown"===n)},n=function(e){for(var t=document.getElementsByName(e.name),n=0;t.length>n;n++)if(t[n].checked)return!0;return!1},{setup:e}}),function(){var r={requestCount:0,tooManyRequestsThreshold:50,request:function(t,n){if(r.requestCount++>r.tooManyRequestsThreshold)n(new o.HTTPError({status:429,body:"Too many requests"}));else{var i=new XMLHttpRequest;if(i.onload=function(){var e,t=r.parseResponseHeaders(i.getAllResponseHeaders());if(200<=i.status&&i.status<=299){try{e=JSON.parse(i.responseText)}catch(e){return void n(void 0,{status:i.status,headers:t,body:i.responseText})}n(void 0,{status:i.status,headers:t,body:e})}else{try{e=JSON.parse(i.responseText)}catch(e){return void n(new o.HTTPError({status:i.status,headers:t,body:i.responseText}))}n(new o.HTTPError({status:i.status,headers:t,body:e}))}},i.open(t.method,t.url,!0),t.withCredentials&&(i.withCredentials=t.withCredentials),Object.keys(t.headers).forEach(function(e){i.setRequestHeader(e,t.headers[e])}),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),"GET"===t.method||"DELETE"===t.method)i.send();else{var e;try{e=JSON.stringify(t.parameters)}catch(e){return void n(new o.HTTPError({status:400,headers:null,body:"Invalid JSON request"}))}i.setRequestHeader("Content-Type","application/json"),i.send(e)}}},parseResponseHeaders:function(e){return e.split("\n").map(function(e){var t=e.indexOf(":");return[e.substring(0,t),e.substring(t+1)]}).reduce(function(e,t){return 0<t[0].length&&(e[t[0]]=t[1].trim()),e},{})}},o={};function t(e){if(Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else{var t=new Error;t.stack&&(this.stack=t.stack)}this.message=e||""}function e(e){t.call(this,e.body),this.status=e.status,this.headers=e.headers||{},this.body=e.body||""}function n(e){t.call(this,e.detail),this.httpStatus=e.httpStatus,this.title=e.title,this.detail=e.detail}t.prototype.name="CustomError",e.prototype.name="HTTPError",n.prototype.name="APIError",o.HTTPError=e,o.APIError=n,r.error=o,this.http=r}(),function(){var t=/:([\w\d]+)/g,n=/\*([\w\d]+)/g,i=/[\-\[\]{}()+?.,\\\^$|#\s]/g,r=Object.prototype.toString;function e(){this.routes=[]}e.prototype={register:function(e,t){var n;n=e,"[object RegExp]"!=r.call(n)&&(e=this._compileRoute(e)),this.routes.push([e,t])},dispatch:function(e){for(var t=0,n=this.routes.length;t<n;t++){var i=this.routes[t][0],r=this.routes[t][1],o=i.exec(e);if(o){var a=o.slice(1);r.apply(this,a)}}},_compileRoute:function(e){return e=e.replace(i,"\\$&").replace(t,"([^/]+)").replace(n,"(.*?)"),new RegExp("^"+e+"$")}},this.MicroDispatcher=e}();var CryptoJS=CryptoJS||function(s,e){var t={},n=t.lib={},i=function(){},r=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=n.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),o=t.enc={},a=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},d=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},l=n.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,r=this.blockSize,o=i/(4*r);if(e=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*r,i=s.min(4*e,i),e){for(var a=0;a<e;a+=r)this._doProcessBlock(n,a);a=n.splice(0,e),t.sigBytes-=i}return new c.init(a,i)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=l.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new g.HMAC.init(n,t).finalize(e)}}});var g=t.algo={};return t}(Math);!function(r){for(var e=CryptoJS,t=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,o=[],f=[],a=function(e){return 4294967296*(e-(0|e))|0},s=2,c=0;c<64;){var d;e:{d=s;for(var u=r.sqrt(d),l=2;l<=u;l++)if(!(d%l)){d=!1;break e}d=!0}d&&(c<8&&(o[c]=a(r.pow(s,.5))),f[c]=a(r.pow(s,1/3)),c++),s++}var m=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new t.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],c=n[5],d=n[6],u=n[7],l=0;l<64;l++){if(l<16)m[l]=0|e[t+l];else{var g=m[l-15],p=m[l-2];m[l]=((g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3)+m[l-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+m[l-16]}g=u+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&d)+f[l]+m[l],p=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&o^r&o),u=d,d=c,c=s,s=a+g|0,a=o,o=r,r=i,i=g+p|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+d|0,n[7]=n[7]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=r.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA256=n._createHelper(i),e.HmacSHA256=n._createHmacHelper(i)}(Math);var connect={pages:{}};!function(e){"use strict";var r={generateNotificationMessage:function(e){var t={},n=document.getElementById("mobage-connect-analytics");if(n){var i=new Date;t.sdk_type=n.getAttribute("data-sdkName"),t.sdk_ver=n.getAttribute("data-sdkVersion"),t.app_id=n.getAttribute("data-appId"),t.uid=n.getAttribute("data-userId"),t.nbpf_tracking_cookie=n.getAttribute("data-trackingCookie"),t.is_installed=n.getAttribute("data-isInstalled"),t.event_id=e,t.src_type="PC",t.client_ts=i.getTime(),t.payload={}}return t},retrieveAnalyticsEndpoint:function(){var e=document.getElementById("mobage-connect-analytics");return e?e.getAttribute("data-analyticsEndpoint"):null},notify:function(e){var t=r.generateNotificationMessage(e),n=r.retrieveAnalyticsEndpoint();if(n){var i=new XMLHttpRequest;i.open("POST",n,!0),i.setRequestHeader("Content-type","text/plain"),i.send(JSON.stringify(t))}}};connect.analyticsOld=r}(this.self||global),function(){"use strict";var d={},n="analytics_events";d.sendEvent=function(e){if(e){var t=document.getElementById("mobage-connect-app-environment").getAttribute("content"),n=document.getElementById("mobage-connect-app-action-id").getAttribute("content"),i=document.getElementById("mobage-connect-app-user-id").getAttribute("content"),r=document.getElementById("mobage-connect-app-tracking-cookie").getAttribute("content"),o=document.getElementById("mobage-connect-app-responded-at").getAttribute("content"),a={environment:t,appName:"mobage-connect",actionId:n,userId:i,trackingCookie:r,event:e,responsedAt:parseInt(o),firedAt:Math.floor((new Date).getTime()/1e3)};if(connect.platform.isiOSShellAppSDK()||connect.platform.isAndroidShellAppSDK()||connect.platform.isAndroidShellAppSDKExternalBrowser())d.saveEvent(a);else{var s=document.getElementById("mobage-connect-app-client-origin-uri");if(!s)return;var c=s.getAttribute("content");if(!c)return;connect.notification.send(a,{topic:"analytics",originUri:c,windowClose:!1,callerFocus:!1})}}else console.error("analytics.sendEvent: event is not specified")},d.saveEvent=function(e){var t=d.restoreEvents();t.push(e),connect.storage.setItem(n,t)},d.restoreEvents=function(){return connect.storage.getItem(n)||[]},d.clearEvents=function(){connect.storage.removeItem(n)},connect.analytics=d}(),function(e){"use strict";var p={},t="redirect_completed";p.redirect=function(){if(!p.isMarkedRedirectCompleted()){var t={},e=document.getElementById("mobage-connect-app-shellapp-sdk-android-redirect-redirector-params"),n=e.getAttribute("data-query-string");n&&(t=connect.util.decodeQuery("&",n.substr(1)));var i=location.hash;if(i){var r=connect.util.decodeQuery("&",i.substr(1));for(var o in r)t[o]=r[o]}var a={};["code","id_token","access_token","token_type","expires_in","state","session_state","scope","topic","sdk_name","sdk_version","error","error_description","grade"].forEach(function(e){t[e]&&(a[e]=t[e])});var s=p.getAnalyticsEvents();s&&(a.analytics_events=s),connect.analytics.clearEvents();var c=e.getAttribute("data-client-identifier"),d=t.package,u=t.topic||"authorization_response",l=p.getPathFromTopic(u),g=p.buildIntentSchemeURI(c,d,l,a);p.markRedirectCompleted(),location.href=g}},p.getPathFromTopic=function(e){return{authorization_response:"authorization_response_callback",authorization_error_response:"authorization_response_callback",uninstall_response:"uninstall_response_callback",uninstall_error_response:"uninstall_response_callback",logout_response:"logout_response_callback",logout_error_response:"logout_response_callback",user_upgrade_response:"user_upgrade_response_callback",user_upgrade_error_response:"user_upgrade_response_callback"}[e]},p.buildIntentSchemeURI=function(e,t,n,i){var r="intent://"+e+"/"+n;return i&&(r+="?"+connect.util.encodeQuery("&",i)),r+="#Intent;package="+t+";scheme=mobage-client;end;"},p.markRedirectCompleted=function(){location.hash=t},p.isMarkedRedirectCompleted=function(){return location.hash.substr(1)===t},p.getAnalyticsEvents=function(){var t=connect.analytics.restoreEvents();try{return connect.util.encodeBase64URL(JSON.stringify(t))}catch(e){return console.log("JSON parse error: events = ",t),null}},connect.androidRedirector=p}(this.self||global),function(){"use strict";var e={disableButtonsOnSubmit:function(e){if(e="string"==typeof e?document.getElementById(e):e){var t=e.querySelectorAll('button,input[type="submit"],input[type="image"]');e.addEventListener("submit",function(){setTimeout(function(){Array.prototype.forEach.call(t,function(e){e.setAttribute("disabled",!0)})},0)})}},addMultiEventsListener:function(t,e,n){e.forEach(function(e){t.addEventListener(e,n)})}};connect.chrome=e}(),function(e){"use strict";var i={};i.redirectWithFederation=function(){var e=document.getElementById("mobage-connect-login-iframe");if(!e)return!1;var t=i.getDataAttributes(e),n=function(e){e.origin===t.iframeOrigin&&(e.data.error&&console.log("error",e.data.error),location.href=t.postLoginRedirectUri)};window.addEventListener("message",n,!1),i.embedIframe(e,t.iframeUri),window.setTimeout(function(){window.removeEventListener("message",n),location.href=t.postLoginRedirectUri},t.timeout||3e3)},i.getDataAttributes=function(e){return e||(location.href="/"),{timeout:1e3*e.getAttribute("data-timeoutSec"),iframeUri:e.getAttribute("data-iframeUri"),iframeOrigin:e.getAttribute("data-iframeOrigin"),postLoginRedirectUri:e.getAttribute("data-postLoginRedirectUri")}},i.embedIframe=function(e,t){var n=document.createElement("iframe");n.src=t,n.style.display="none",e.appendChild(n)},connect.loginIframe=i}(this.self||global),function(e){"use strict";var i={},r="mobage-connect-logout-iframe";i.attrs=null,i.createIframe=function(){var e=document.getElementById(r);if(!e)return!1;var t=i.getDataAttributes(e),n=document.createElement("iframe");n.src=t.iframeUrl,e.appendChild(n),i.attrs=t,window.setTimeout(function(){i.redirect(e)},5e3)},i.redirect=function(e){e||(e=document.getElementById(r));var t=e?i.getDataAttributes(e):i.attrs,n=t.postLogoutRedirectUri;t.topicParams&&(n+="?"+t.topicParams),window.location.href=n},i.getDataAttributes=function(e){e||(window.location.href="/");var t={idTokenHint:e.getAttribute("data-idTokenHint"),iframeUrl:e.getAttribute("data-iframeUrl"),postLogoutRedirectUri:e.getAttribute("data-postLogoutRedirectUri")};return e.getAttribute("data-topicParams")&&(t.topicParams=e.getAttribute("data-topicParams")),t},connect.logoutIframe=i}(this.self||global),function(e){"use strict";var n={};n.getCSRFToken=function(){var e=document.getElementById("mobage-connect-app-csrf-token");return e?e.getAttribute("content"):null},n.embedCSRFTokenToAnchor=function(e,t){var n=e.search.substring(1).split("&");n.push("csrf_token="+t),e.search="?"+n.filter(function(e){return""!==e}).join("&")},n.embedCSRFTokenToForm=function(e,t){var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","csrf_token"),n.setAttribute("value",t),e.appendChild(n)},n.embedCSRFToken=function(){var t=n.getCSRFToken();t&&Array.prototype.forEach.call(document.querySelectorAll("*[data-csrf='1']"),function(e){switch(e.nodeName){case"A":n.embedCSRFTokenToAnchor(e,t);break;case"FORM":n.embedCSRFTokenToForm(e,t)}})},connect.csrf=n}(this.self||global),function(e){"use strict";var t={getDataAttributes:function(e){return!!e&&{analyticsEndpoint:e.getAttribute("data-analyticsEndpoint"),jsonMessage:e.getAttribute("data-jsonMessage")}},send:function(e,t){e=e||{};var n=JSON.parse(e.jsonMessage);n.is_onload=t;var i=new Date;n.client_ts=i.getTime();var r=new XMLHttpRequest;r.onload=function(){},e.analyticsEndpoint&&(r.open("POST",e.analyticsEndpoint,!0),r.setRequestHeader("Content-type","text/plain"),r.send(JSON.stringify(n)))},sendClientEvent:function(e,t){t=t||{};var n=JSON.parse(e.jsonMessage),i=new Date;n.src_type="GC",n.event_id="ClientAnalyticsEvent",n.client_ts=i.getTime(),n.label=t.label,n.payload=t.params;var r=new XMLHttpRequest;r.onload=function(){},e.analyticsEndpoint&&(r.open("POST",e.analyticsEndpoint,!0),r.setRequestHeader("Content-type","text/plain"),r.send(JSON.stringify(n)))}};connect.heartbeat=t}(this.self||global),function(e){"use strict";var p={},t="redirect_completed";p.redirect=function(){if(!p.isMarkedRedirectCompleted()){var t={},e=document.getElementById("mobage-connect-app-shellapp-sdk-ios-redirect-redirector-params"),n=e.getAttribute("data-query-string");n&&(t=connect.util.decodeQuery("&",n.substr(1)));var i=location.hash;if(i){var r=connect.util.decodeQuery("&",i.substr(1));for(var o in r)t[o]=r[o]}var a={};["code","id_token","access_token","token_type","expires_in","state","session_state","scope","topic","sdk_name","sdk_version","error","error_description","grade"].forEach(function(e){t[e]&&(a[e]=t[e])});var s=p.getAnalyticsEvents();s&&(a.analytics_events=s),connect.analytics.clearEvents();var c=e.getAttribute("data-client-identifier"),d=t.bundle_identifier,u=t.topic||"authorization_response",l=p.getPathFromTopic(u),g=p.buildCustomURI(c,d,l,a);p.markRedirectCompleted(),location.href=g}},p.getPathFromTopic=function(e){return{authorization_response:"authorization_response_callback",authorization_error_response:"authorization_response_callback",uninstall_response:"uninstall_response_callback",uninstall_error_response:"uninstall_response_callback",logout_response:"logout_response_callback",logout_error_response:"logout_response_callback",user_upgrade_response:"user_upgrade_response_callback",user_upgrade_error_response:"user_upgrade_response_callback"}[e]},p.buildCustomURI=function(e,t,n,i){var r=document.createElement("a");return r.href="mobage-client-"+t+"://"+e+"/"+n,i&&(r.search=connect.util.encodeQuery("&",i)),r.href},p.markRedirectCompleted=function(){location.hash=t},p.isMarkedRedirectCompleted=function(){return location.hash.substr(1)===t},p.getAnalyticsEvents=function(){var t=connect.analytics.restoreEvents();try{return connect.util.encodeBase64URL(JSON.stringify(t))}catch(e){return console.log("JSON parse error: events = ",t),null}},connect.iosRedirector=p}(this.self||global),function(e){"use strict";var t={},n="launch_complete";t.getDataAttributes=function(e){return!!e&&{analyticsEndpoint:e.getAttribute("data-analyticsEndpoint"),clientId:e.getAttribute("data-clientId"),packageName:e.getAttribute("data-packageName"),bundleIdentifier:e.getAttribute("data-bundleIdentifier"),jsonMessage:e.getAttribute("data-jsonMessage")}},t.send=function(e){e=e||{};var t=JSON.parse(e.jsonMessage),n=new Date;t.client_ts=n.getTime();var i=new XMLHttpRequest;i.onload=function(){},e.analyticsEndpoint&&(i.open("POST",e.analyticsEndpoint,!0),i.setRequestHeader("Content-type","text/plain"),i.send(JSON.stringify(t)))},t.markCompleted=function(){location.hash=n},t.isMarkedCompleted=function(){return location.hash.substr(1)===n},connect.launchTracking=t}(this.self||global),function(e){"use strict";var t={};t.redirectForRPAccount=function(){document.getElementById("mobage-connect-logout-confirm-form").addEventListener("submit",function(e){return e.preventDefault(),!1});var e=t.getDataAttributes();document.getElementById("mobage-connect-logout-confirm-execute").addEventListener("click",function(){location.href=e.executeUri}),document.getElementById("mobage-connect-logout-confirm-cancel").addEventListener("click",function(){location.href=e.cancelUri})},t.getDataAttributes=function(){var e=document.getElementById("mobage-connect-logout-confirm");return{executeUri:e.getAttribute("data-executeUri"),cancelUri:e.getAttribute("data-cancelUri"),postLogoutRedirectUri:e.getAttribute("data-postLogoutRedirectUri")}},connect.logoutConfirm=t}(this.self||global),function(e){"use strict";var t={},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";t.generateId=function(){for(var e="",t=0;t<32;++t)e+=n[Math.floor(Math.random()*n.length)];return e},t.send=function(e,t){var n=window.opener||window.parent;if(n)if(t.topic){var i={id:t.id||connect.notification.generateId(),type:"notification",topic:t.topic,extra:e};n.postMessage(i,t.originUri),t.callerFocus&&n.focus(),t.windowClose&&window.close()}else console.error("notification.send: topic not specified")},connect.notification=t}(this.self||global),function(){"use strict";var i={isiOSShellAppSDK:function(){return navigator.userAgent.match(/Mobage-ShellApp-SDK-iOS/)},isAndroidShellAppSDK:function(){return navigator.userAgent.match(/Mobage-ShellApp-SDK-Android/)},isAndroidShellAppSDKExternalBrowser:function(){var e=connect.util.decodeQuery("&",location.search.substr(1));return i.hasAndroidShellAppSDKName(e)},hasAndroidShellAppSDKName:function(e){if(e.sdk_name&&"mobage-shellapp-sdk-android"===e.sdk_name)return!0;if(e.post_login_redirect_uri){var t=e.post_login_redirect_uri,n=connect.util.decodeQuery("&",t.substr(t.indexOf("?")+1));return i.hasAndroidShellAppSDKName(n)}return!1}};connect.platform=i}(),function(e){"use strict";var o={getDataAttributes:function(){var e=document.getElementById("mobage-connect-post-message");return!!e&&{origin:e.getAttribute("data-originUri"),message:JSON.parse(e.getAttribute("data-jsonMessage"))}},send:function(e,t,n){if(e=e||{},!t||!n){var i=o.getDataAttributes();if(!i)return;t=i.message,n=i.origin}var r=window.opener||window.parent;r.postMessage(t,n),window.setTimeout(function(){e.callerFocus&&r.focus(),e.windowClose&&window.close()},1e3)},close:function(){var e=document.getElementById("mobage-connect-app-client-origin-uri");window.opener||window.parent!==window?e?(window.opener||window.parent).postMessage("close",e.getAttribute("content")):console.log("not found client origin uri"):window.close()}};connect.postMessage=o}(this.self||global),function(e){"use strict";var t={};t.getResponseParams=function(){var e={},t=document.getElementById("mobage-connect-app-jssdk-redirect-relay-params");if(t){var n=t.getAttribute("data-query-string"),i=connect.util.decodeQuery("&",n.substring(1));for(var r in i)e[r]=i[r]}var o=window.location.hash;if(o){var a=connect.util.decodeQuery("&",o.substring(1));for(var r in a)e[r]=a[r]}return e},t.notifyResponse=function(){if(window.opener||window.parent!==window){var e=connect.relay.getResponseParams(),t=e.client_origin_uri;if(!t)return console.error("client_origin_uri is omitted."),void window.close();var n={},i=["access_token","token_type","expires_in","code","id_token","scope","state","session_state","error","error_description"];for(var r in i)e[i[r]]&&(n[i[r]]=e[i[r]]);connect.notification.send(n,{topic:e.topic||"authorization_response",originUri:t}),window.opener&&window.top===window&&window.close()}else window.close()},connect.relay=t}(this.self||global),function(e){"use strict";var c={};c.checkSessionStateChange=function(e){var t=(e=e||{}).clientId,n=e.sessionState,i=e.clientOrigin,r=e.notificationId;if(window.parent!==window){var o=connect.util.decodeQuery("; ",document.cookie).CSSID,a=CryptoJS.SHA256(t+":"+o).toString(),s={};s.status=a===n?"unchanged":"changed",s.sessionState=a,r&&(s.notificationId=r),s.thirdPartyCookieAvailable=c.isThirdPartyCookieAvailable(a),window.parent.postMessage({type:"notification",topic:"session_state_change_response",extra:s},i)}else window.close()},c.isThirdPartyCookieAvailable=function(e){document.cookie=e+"=dmyvalue";var t=!!connect.util.decodeQuery("; ",document.cookie)[e],n=new Date;return n.setTime(0),document.cookie=e+"=;expires="+n,t},connect.sessionState=c}(this.self||global),function(e){"use strict";var t={};try{t.store=e.localStorage}catch(e){t.error=e,console.log("connect.storge: storage init error = ",e)}t.setItem=function(e,t){try{this.store.setItem(e,JSON.stringify(t))}catch(e){console.log("connect.storge: setItem error = ",e)}},t.getItem=function(e){var t=this.store.getItem(e),n=null;if(null===t)return null;try{n=JSON.parse(t)}catch(e){return console.log("mobage.storage: JSON parse error: jsonItem = ",t),null}return n},t.removeItem=function(e){try{this.store.removeItem(e)}catch(e){console.log("connect.storge: removeItem error = ",e)}},connect.storage=t}(this.self||global),function(){"use strict";var e={decodeQuery:function(e,t){return t.split(e).map(function(e){return e.split("=",2)}).reduce(function(e,t){return 0<t[0].length&&(e[decodeURIComponent(t[0])]=decodeURIComponent(t[1])),e},{})},encodeQuery:function(e,t){var n=[];for(var i in t)n.push(i+"="+t[i]);return n.join(e)},encodeBase64URL:function(e){try{return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}catch(e){return console.log("encodeBase64URL error:",e),null}}};connect.util=e}(),function(e){"use strict";var t={visibleListeners:[],hiddenListeners:[]};t.prefix="hidden"in document?"":"webkitHidden"in document?"webkit":null,t.addVisibleListener=function(e){this.visibleListeners.push(e)},t.addHiddenListener=function(e){this.hiddenListeners.push(e)},t.removeAllListeners=function(){this.visibleListeners=[],this.hiddenListeners=[]},t.handleEvent=function(t){this.isVisibleEvent(t.type)?this.visibleListeners.forEach(function(e){e.apply(null,t)}):this.isHiddenEvent(t.type)&&this.hiddenListeners.forEach(function(e){e.apply(null,t)})},t.getCurrentState=function(){return 0===this.prefix.length?document.visibilityState:document[this.prefix+"VisibilityState"]},t.isVisibleEvent=function(e){return"focus"===e||e===this.prefix+"visibilitychange"&&"visible"===this.getCurrentState()},t.isHiddenEvent=function(e){return"blur"===e||e===this.prefix+"visibilitychange"&&"hidden"===this.getCurrentState()},t.init=function(){"string"==typeof t.prefix?document.addEventListener(this.prefix+"visibilitychange",this):(window.addEventListener("focus",this),window.addEventListener("blur",this))},connect.visibility=t}(this.self||global),function(){"use strict";var e={},o={facebook:"facebook.com",google:"google.com",twitter:"twitter.com",yahoo:"yahoo.co.jp"};e.processSuccess=function(e){location.reload()},e.processError=function(){document.createElement("li").innerHTML=data.errorDescription;var e=document.getElementById("error-messages");e&&e.appendChild(e)},e.initListener=function(e){var t=document.getElementById(e+"-connect-button");if(t){var n={identity_provider:o[e]},i="/federate/redirect?"+connect.util.encodeQuery("&",n);t.addEventListener("click",function(){window.open(i)})}var r=document.getElementById(e+"-disconnect-button");r&&r.addEventListener("click",function(e){window.confirm("連携を解除しますか？")||e.preventDefault()})},e.init=function(){e.initListener("facebook"),e.initListener("google"),e.initListener("twitter"),e.initListener("yahoo"),window.addEventListener("message",function(t){["federate_redirect_response"].some(function(e){return e===t.data.topic})&&(t.data.error?e.processError():e.processSuccess())},!1)},connect.pages.accountManager=e}(),function(e){"use strict";var t={},o=function(e){var t=parseInt(e,10);return isNaN(t)?0:t};t.initRegisterForm=function(r){r.addEventListener("submit",function(){var e=document.createElement("input"),t=o(r.year.value),n=o(r.month.value),i=o(r.day.value);return e.type="hidden",e.name="birthday",e.value=("000"+t).slice(-4)+"-"+("0"+n).slice(-2)+"-"+("0"+i).slice(-2),r.appendChild(e),!1},!1)},t.init=function(){var e=document.getElementById("mobage-connect-federated-register-form");e&&connect.pages.federatedRegister.initRegisterForm(e)},connect.pages.federatedRegister=t}(this.self||global),function(){"use strict";var n={init:function(){for(var e=document.getElementsByClassName("login-devices-open-detail"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){n.toggleDetail(e,this)});document.getElementById("login-devices-delete-button").addEventListener("click",function(e){n.confirm(e)})},toggleDetail:function(e,t){var n="login-devices-detail-"+t.getAttribute("data-session-id"),i=document.getElementById(n),r=i.className,o=t.getElementsByClassName("btn-login-devices-detail")[0],a=o.className;-1!==r.indexOf("d-none")?(r=r.replace("d-none",""),i.setAttribute("class",r),a+=" is-open"):(r+=" d-none",i.setAttribute("class",r),a=a.replace(" is-open","")),o.setAttribute("class",a)},confirm:function(e){var t=document.getElementById("login-devices-delete");if(!window.confirm("全ての端末のログインを取り消しますか？"))return!1;t.submit()}};connect.pages.loginDevices=n}(),function(){"use strict";var o={},r=function(e){return/.+\@.+\..+/.test(e)};o.isGeneratingCaptcha=!1,o.initCaptchaReloadButton=function(){document.getElementById("login-form-reload").addEventListener("click",function(){var n=document.getElementById("captcha-image"),i=document.getElementById("captcha"),r=document.getElementById("captcha-state");if(n&&i&&r||location.reload(),o.isGeneratingCaptcha)return!1;o.isGeneratingCaptcha=!0,http.request({method:"POST",url:"/captcha/regenerate",parameters:{captcha_state:r.value},headers:{}},function(e,t){!e&&t.body&&t.body.captcha_image_url&&t.body.captcha_state?(n.src=t.body.captcha_image_url,r.value=t.body.captcha_state,i.value="",i.focus(),o.isGeneratingCaptcha=!1):location.reload()})})},o.initHandleFunc=function(){setInterval(function(){var e=o.subjectId.value;o.subjectId.isValid=r(e);var t=o.subjectPassword.value;o.subjectPassword.isValid=3<t.length;var n=1;if(o.captcha){var i=o.captcha.value;o.captcha.isValid=3<i.length,n=o.captcha.isValid}o.subjectId.isValid&&o.subjectPassword.isValid&&n?o.loginButton.classList.remove("is-disabled"):o.loginButton.classList.add("is-disabled")},500),o.registerSubjectId&&setInterval(function(){var e=o.registerSubjectId.value;o.registerSubjectId.isValid=r(e),o.registerSubjectId.isValid?o.registerSubjectButton.classList.remove("is-disabled"):o.registerSubjectButton.classList.add("is-disabled")},500)},o.initAnalyticsEvents=function(){connect.analytics.sendEvent("load"),connect.analyticsOld.notify("LOGIN_FORM_SHOW"),connect.chrome.disableButtonsOnSubmit(o.loginForm),window.addEventListener("unload",function(){connect.analytics.sendEvent("unload")},!1);var e=document.getElementById("register");e&&e.addEventListener("click",function(){connect.analytics.sendEvent("register"),connect.analyticsOld.notify("REGISTRATION_SEND")})},o.addFormValueChangeListener=function(){connect.chrome.addMultiEventsListener(o.subjectId,["focus","blur","input"],o.formValueChangeListener),connect.chrome.addMultiEventsListener(o.subjectPassword,["blur","input"],o.formValueChangeListener),o.captcha&&connect.chrome.addMultiEventsListener(o.captcha,["blur","input"],o.formValueChangeListener)},o.initYjtag=function(e){var t=document.createElement("script");t.id="tagjs",t.async=!0,t.src="//s.yjtag.jp/tag.js#site=wOZbjM3",document.body.appendChild(t)},o.initRefresh=function(){setTimeout(function(){o.refresh()},6e5),"string"==typeof connect.visibility.prefix&&(connect.visibility.init(),connect.visibility.addVisibleListener(function(){o.refresh()})),o.loginButton.addEventListener("click",function(){connect.visibility.removeAllListeners()})},o.refresh=function(){if(o.shouldFederateMobage){var e=connect.util.decodeQuery("&",location.search.substr(1));e.post_login_redirect_uri&&e.sig&&e.iat&&e.seed&&(location.href="/federated/login/mobage"+location.search)}else location.reload()},o.unAvailableCookie=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("abbr");e.className="txt-alert txt-s m-b-s m-l-m",t.className="mobage-connect-app-problem",n.innerHTML="Cookieを有効にしてブラウザを再起動してください。",e.appendChild(t),t.appendChild(n);var i=document.getElementsByClassName("contents-body")[0];i.insertBefore(e,i.firstChild)},o.initLoginForm=function(e){o.loginButton=document.getElementById("login"),o.subjectId=document.getElementById("subject-id"),o.subjectPassword=document.getElementById("subject-password"),o.captcha=document.getElementById("captcha"),o.shouldFederateMobage="1"===e.getAttribute("data-should-federate-mobage"),o.registerSubjectId=document.getElementById("register-subject-id"),o.registerSubjectButton=document.getElementById("register-subject-button"),o.captcha&&o.initCaptchaReloadButton(),o.initAnalyticsEvents(),o.initYjtag(e),o.initRefresh(),o.initHandleFunc(),connect.storage&&connect.storage.error&&o.unAvailableCookie()},o.initLoginContinue=function(){document.getElementById("login-required-continue-button").addEventListener("click",function(){window.open("/login/redirect")}),window.addEventListener("message",function(e){"login_redirect_complete"===e.data.topic&&location.reload()},!1)},o.initRegisterHandleFunc=function(){o.registerSubjectId&&setInterval(function(){var e=o.registerSubjectId.value;o.registerSubjectId.isValid=r(e),o.registerSubjectId.isValid?o.registerSubjectButton.classList.remove("is-disabled"):o.registerSubjectButton.classList.add("is-disabled")},500)},o.initRegisterForm=function(){o.registerSubjectId=document.getElementById("register-subject-id"),o.registerSubjectButton=document.getElementById("register-subject-button"),o.initRegisterHandleFunc(),connect.storage&&connect.storage.error&&o.unAvailableCookie()},o.init=function(){var e=document.getElementById("mobage-connect-login-form");if(e)o.initLoginForm(e);else{var t=document.getElementById("mobage-connect-register-form");t?o.initRegisterForm(t):o.initLoginContinue()}},o.onRecaptchaChecked=function(){var e=document.getElementById("mobage-connect-login-form"),t=document.createElement("input");t.type="hidden",t.name="login",t.value="login",e.appendChild(t),e.submit()},connect.pages.login=o}(),function(e){"use strict";var t={initRegisterForm:function(r){r.addEventListener("submit",function(){var e=document.createElement("input"),t=isNaN(r.year.value)?0:parseInt(r.year.value),n=isNaN(r.month.value)?0:parseInt(r.month.value),i=isNaN(r.day.value)?0:parseInt(r.day.value);return e.type="hidden",e.name="birthday",e.value=("000"+t).slice(-4)+"-"+("0"+n).slice(-2)+"-"+("0"+i).slice(-2),r.appendChild(e),!1},!1)},init:function(){var e=document.getElementById("mobage-connect-user-upgrade-standard-form");e&&connect.pages.userUpgradeStandard.initRegisterForm(e)}};connect.pages.userUpgradeStandard=t}(this.self||global);var dispatcher=new MicroDispatcher;dispatcher.register("/login",function(){connect.pages.login.init(),connect.chrome.disableButtonsOnSubmit("mobage-connect-login-form"),window.onRecaptchaChecked=connect.pages.login.onRecaptchaChecked}),dispatcher.register("/connect/1.0/services/authorize",function(){if(document.getElementById("mobage-connect-authorize-consent-skip"))setTimeout(function(){document.getElementById("mobage-connect-authorize-consent-form").submit()},1e3);else{connect.analytics.sendEvent("load"),connect.analyticsOld.notify("AUTHORIZATION_CONSENT_SHOW"),connect.chrome.disableButtonsOnSubmit("mobage-connect-authorize-consent-form");var e=document.getElementById("mobage-connect-authorize-consent-cancel");e&&e.addEventListener("click",function(){connect.postMessage.close()}),window.addEventListener("unload",function(){connect.analytics.sendEvent("unload")},!1)}}),dispatcher.register("/connect/1.0/services/uninstall",function(){connect.chrome.disableButtonsOnSubmit("mobage-connect-uninstall-confirm-form")}),dispatcher.register("/uninstall",function(){connect.chrome.disableButtonsOnSubmit("mobage-connect-uninstall-confirm-form")}),dispatcher.register("/login/redirect",function(){connect.postMessage.send({windowClose:1,callerFocus:1})}),dispatcher.register("/federate/redirect",function(){connect.postMessage.send({windowClose:1,callerFocus:1})}),dispatcher.register("/connect/:version/clients/:client_identifier/jssdk/redirect",function(){window.addEventListener("load",function(){connect.relay.notifyResponse()})}),dispatcher.register("/connect/:version/clients/:client_identifier/android/redirect",function(){window.addEventListener("load",function(){connect.androidRedirector.redirect()})}),dispatcher.register("/connect/:version/clients/:client_identifier/ios/redirect",function(){window.addEventListener("load",function(){connect.iosRedirector.redirect()})}),dispatcher.register("/connect/:version/jssdk/session_iframe",function(){window.addEventListener("message",function(e){connect.sessionState.checkSessionStateChange({clientId:e.data.clientId,sessionState:e.data.sessionState,notificationId:e.data.notificationId,clientOrigin:e.origin})})}),dispatcher.register("/connect/:version/jssdk/heartbeat_iframe",function(){var e=document.getElementById("mobage-connect-heartbeat"),t=connect.heartbeat.getDataAttributes(e),n=connect.util.decodeQuery("; ",document.cookie).CSSID;connect.heartbeat.send(t,1),setInterval(function(){var e=connect.util.decodeQuery("; ",document.cookie).CSSID;n!==e&&location.reload(),connect.heartbeat.send(t,0)},3e4),window.addEventListener("message",function(e){connect.heartbeat.sendClientEvent(t,e.data)},!1)}),dispatcher.register("/launch_tracking",function(){var e,t=document.getElementById("mobage-connect-shellapp-sdk-launch-tracking"),n=connect.launchTracking.getDataAttributes(t);connect.launchTracking.isMarkedCompleted()||(connect.launchTracking.send(n),connect.launchTracking.markCompleted(),e=n.bundleIdentifier?connect.iosRedirector.buildCustomURI(n.clientId,n.bundleIdentifier,""):connect.androidRedirector.buildIntentSchemeURI(n.clientId,n.packageName,""),location.href=e)}),dispatcher.register("/logout",function(){document.getElementById("mobage-connect-logout-iframe")?connect.logoutIframe.createIframe():document.getElementById("mobage-connect-logout-confirm")&&connect.logoutConfirm.redirectForRPAccount(),connect.chrome.disableButtonsOnSubmit("mobage-connect-logout-confirm-form"),connect.chrome.disableButtonsOnSubmit("mobage-connect-session-chooser-form"),window.addEventListener("message",function(e){connect.logoutIframe.redirect()})}),dispatcher.register(/^\/password\/.*/,function(){var e=document.getElementById("window-close-button");e&&e.addEventListener("click",function(){window.close(),setTimeout(function(){e.innerText="この画面が自動で閉じない場合は、ブラウザのタブから閉じてください"},1e3)});var n=document.getElementById("mobage-connect-password-edit-form");if(n){var i=document.getElementById("update"),r=document.getElementById("subject-password"),o=document.getElementById("subject-password-for-confirmation"),a=document.getElementById("nickname"),s=document.getElementById("year"),c=document.getElementById("additional-information-type-nickname"),d=document.getElementById("additional-information-type-birthday"),t=document.getElementById("area-nickname"),u=document.getElementById("area-birthday");H5F.setup(n,{validClass:"is-valid",invalidClass:"is-invalid"}),n.addEventListener("submit",function(){if(d.checked){var e=document.createElement("input");e.type="hidden",e.name="birthday";var t=n.year.value+"-"+("0"+n.month.value).slice(-2)+"-"+("0"+n.day.value).slice(-2);e.value=t,n.appendChild(e)}return!1});var l=function(){var e,t=c.checked,n=d.checked;t&&(e=a.checkValidity()),n&&(e=s.checkValidity()),e&&r.checkValidity()&&o.checkValidity()?i.removeAttribute("disabled"):i.setAttribute("disabled","")};c.addEventListener("click",function(){s.removeAttribute("required"),a.setAttribute("required",""),t.className="",u.className="d-none",l()}),d.addEventListener("click",function(){a.removeAttribute("required"),s.setAttribute("required",""),t.className="d-none",u.className="",l()}),r.addEventListener("focus",l),r.addEventListener("blur",l),r.addEventListener("input",l),o.addEventListener("focus",l),o.addEventListener("blur",l),o.addEventListener("input",l),a.addEventListener("blur",l),a.addEventListener("input",l),s.addEventListener("blur",l),s.addEventListener("input",l),a.setAttribute("required",""),connect.chrome.disableButtonsOnSubmit(n)}}),dispatcher.register(/^\/federated\/register\/.*/,function(){connect.pages.federatedRegister.init()}),dispatcher.register(/^\/user_upgrade\/standard\/.*|^\/register\/.*/,function(){connect.pages.userUpgradeStandard.init()}),dispatcher.register(/^\/debug\/session(\/.*)?/,function(){document.getElementById("mobage-connect-debug-session-cookie").innerText=document.cookie.replace(/(;)?\s+/g,"\n")}),dispatcher.register(/^\/setting\/email\/.*/,function(){var e=document.getElementById("window-close-button");e&&e.addEventListener("click",function(){window.close(),setTimeout(function(){e.innerText="この画面が自動で閉じない場合は、ブラウザのタブから閉じてください"},1e3)})}),dispatcher.register("/account_manager",function(){connect.pages.accountManager.init()}),dispatcher.register("/account/login_devices",function(){connect.pages.loginDevices.init()}),dispatcher.register(/^\/account\/email(\/.*)?/,function(){connect.chrome.disableButtonsOnSubmit("mobage-connect-account-email-form")}),dispatcher.register(/^\/account\/password(\/.*)?/,function(){connect.chrome.disableButtonsOnSubmit("mobage-connect-account-password-form")}),dispatcher.register(/^\/account\/security_question(\/.*)?/,function(){connect.chrome.disableButtonsOnSubmit("mobage-connect-account-security-question-form")}),dispatcher.register("/pincode",function(){connect.chrome.disableButtonsOnSubmit("mobage-connect-pincode-form")}),document.addEventListener("DOMContentLoaded",function(){connect.csrf.embedCSRFToken();var e=document.getElementById("window-back-button");e&&e.addEventListener("click",function(){history.back(),setTimeout(function(){e.innerText="この画面が自動で閉じない場合は、ブラウザのタブから閉じてください"},1e3)});var t=document.getElementById("mobage-connect-authorization-response-form");if(t){var n=parseInt(t.getAttribute("data-submit-delay"),0);setTimeout(function(){t.submit()},n)}dispatcher.dispatch(location.pathname)});